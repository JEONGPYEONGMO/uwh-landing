# 📚 학습자료 업로드 및 관리 가이드

## 📋 목차
1. [시스템 개요](#시스템-개요)
2. [자료 업로드 방법](#자료-업로드-방법)
3. [자료 다운로드 방법](#자료-다운로드-방법)
4. [자료 관리 방법](#자료-관리-방법)
5. [데이터 저장 방식](#데이터-저장-방식)
6. [FAQ](#faq)

---

## 🎯 시스템 개요

### 페이지 구조
```
📚 학습자료 페이지 (/learning)
└─ 사용자가 자료 검색, 조회, 다운로드

🛠️ 학습자료 관리 페이지 (/learning-admin)
└─ 관리자가 자료 업로드, 수정, 삭제
```

### 주요 기능
- ✅ 파일 업로드 (PDF, Word, PPT, 이미지, 비디오)
- ✅ 자료 검색 및 필터링
- ✅ 조회수 및 다운로드 수 추적
- ✅ 자료 수정 및 삭제
- ✅ 데이터 백업 및 복원
- ✅ 카테고리별 분류 (규칙, 전략, 연습방법, 기타)

---

## 📤 자료 업로드 방법

### 1단계: 관리자 페이지 접속
```
학습자료 페이지 → "🛠️ 관리자 페이지" 버튼 클릭
또는 직접 URL: /learning-admin
```

### 2단계: 자료 추가 버튼 클릭
```
상단의 "자료 추가" 버튼 클릭
```

### 3단계: 정보 입력
**필수 입력 항목:**
- **제목** ✓: 자료의 제목 (예: "수중하키 공식 규칙 2024")
- **작성자** ✓: 작성자 이름 (예: "김코치")
- **카테고리** ✓: 규칙 / 전략 / 연습방법 / 기타
- **유형** ✓: 문서 / 그림 / 비디오 / 기타

**선택 입력 항목:**
- **아이콘**: 이모지로 표시 (예: 📄, 📋, 🎥)
- **설명**: 자료에 대한 간단한 설명

### 4단계: 파일 업로드
```
"파일 업로드" 영역 클릭
→ 파일 선택 (최대 10MB)
→ 자동 업로드 완료
```

**지원 파일 형식:**
- 📄 문서: PDF, Word (.doc, .docx), PPT (.ppt, .pptx)
- 🖼️ 이미지: JPG, JPEG, PNG, GIF
- 🎥 비디오: MP4, MOV

### 5단계: 추가 완료
```
"추가하기" 버튼 클릭
→ ✅ 성공 메시지 확인
→ 자료 목록에 즉시 표시
```

---

## 📥 자료 다운로드 방법

### 사용자 다운로드 (학습자료 페이지)

#### 방법 1: 테이블에서 다운로드
```
1. 학습자료 페이지 접속
2. 원하는 자료 찾기 (검색/필터 활용)
3. 오른쪽 "다운로드" 아이콘 클릭
4. 파일 자동 다운로드
```

#### 방법 2: 검색 후 다운로드
```
1. 검색창에 키워드 입력 (예: "규칙")
2. 카테고리/유형 필터 선택
3. 결과에서 원하는 자료 찾기
4. 다운로드 버튼 클릭
```

### 관리자 다운로드 (관리자 페이지)
```
자료 목록 → 다운로드 버튼 클릭
→ 파일 즉시 다운로드
```

### 다운로드 통계
- 📊 다운로드 수가 자동으로 증가
- 📈 통계 대시보드에서 확인 가능

---

## 🛠️ 자료 관리 방법

### 자료 수정
```
1. 관리자 페이지 → 자료 목록
2. 수정할 자료의 "수정" 버튼(✏️) 클릭
3. 정보 수정
4. 필요시 새 파일 업로드
5. "수정하기" 버튼 클릭
```

### 자료 삭제
```
1. 관리자 페이지 → 자료 목록
2. 삭제할 자료의 "삭제" 버튼(🗑️) 클릭
3. 확인 팝업에서 "확인" 클릭
4. ✅ 삭제 완료
```

⚠️ **주의**: 삭제된 자료는 복구할 수 없습니다!

### 데이터 백업
```
1. 관리자 페이지 → "내보내기" 버튼
2. JSON 파일 자동 다운로드
3. 파일명: learning-materials-2025-11-07.json
4. 안전한 곳에 보관
```

### 데이터 복원
```
1. 관리자 페이지 → "가져오기" 버튼
2. 백업한 JSON 파일 선택
3. 병합/교체 옵션 선택:
   - 병합: 기존 + 새 자료
   - 교체: 기존 삭제 후 새 자료만
4. ✅ 복원 완료
```

### 데이터 초기화
```
1. 관리자 페이지 → "데이터 초기화" 버튼
2. 2단계 확인 팝업
3. 모든 자료 삭제
```

⚠️ **매우 주의**: 복구 불가능! 반드시 백업 후 실행!

---

## 💾 데이터 저장 방식

### localStorage 사용
```javascript
// 저장 위치
localStorage.setItem('learningMaterials', JSON.stringify(materials));

// 불러오기
const materials = JSON.parse(localStorage.getItem('learningMaterials'));
```

### 파일 저장 방식
**Base64 인코딩**:
- 파일을 Base64 문자열로 변환하여 저장
- 파일 크기가 커지면 브라우저 용량 제한 주의
- 최대 파일 크기: 10MB

```javascript
{
  fileName: "규칙서.pdf",
  fileUrl: "data:application/pdf;base64,JVBERi0xLjQKJ...",
  fileSize: 1024000,
  fileType: "application/pdf"
}
```

### 자료 데이터 구조
```json
{
  "id": 1730976000000,
  "title": "수중하키 공식 규칙 2024",
  "category": "규칙",
  "type": "문서",
  "author": "CMAS",
  "description": "2024년 최신 규칙서",
  "icon": "📋",
  "date": "2024-11-07",
  "views": 120,
  "downloads": 45,
  "fileName": "규칙서.pdf",
  "fileUrl": "data:application/pdf;base64,...",
  "fileSize": 1024000,
  "fileType": "application/pdf",
  "createdAt": "2024-11-07T12:00:00.000Z"
}
```

### 통계 추적
**자동 업데이트되는 항목:**
- 📊 조회수: "보기" 버튼 클릭 시 +1
- 📥 다운로드 수: 다운로드 시 +1
- 📈 실시간 통계 대시보드 업데이트

---

## 🎨 사용 시나리오

### 시나리오 1: 코치가 훈련 자료 업로드
```
1. 김코치가 새로운 훈련 자료 작성
2. /learning-admin 접속
3. "자료 추가" 클릭
4. 정보 입력:
   - 제목: "골키퍼 포지셔닝 가이드"
   - 카테고리: 전략
   - 유형: 문서
   - 작성자: 김코치
5. PDF 파일 업로드
6. "추가하기" 클릭
7. ✅ 즉시 학습자료 페이지에 표시
```

### 시나리오 2: 선수가 자료 다운로드
```
1. 선수가 /learning 페이지 접속
2. 검색: "골키퍼"
3. 카테고리 필터: "전략"
4. "골키퍼 포지셔닝 가이드" 찾기
5. 다운로드 버튼 클릭
6. PDF 파일 다운로드 완료
7. 📊 다운로드 수 +1 자동 증가
```

### 시나리오 3: 정기 백업
```
매월 1일:
1. 관리자가 /learning-admin 접속
2. "내보내기" 버튼 클릭
3. JSON 파일 다운로드
4. Google Drive/Dropbox에 저장
5. 파일명 예: learning-materials-2025-11-01.json
```

---

## 📊 관리자 대시보드

### 통계 항목
```
┌─────────────────────────────────────────┐
│  📚 전체 자료    📄 문서    🖼️ 그림   │
│     25개        15개       5개        │
├─────────────────────────────────────────┤
│  🎥 비디오      👁️ 총 조회   📥 다운로드 │
│     5개        1,234회     567회      │
└─────────────────────────────────────────┘
```

### 자료 목록 정보
- ✅ 제목 및 아이콘
- ✅ 카테고리 태그
- ✅ 유형 아이콘
- ✅ 작성자
- ✅ 조회수/다운로드 수
- ✅ 첨부파일 정보
- ✅ 수정/다운로드/삭제 버튼

---

## ⚙️ 기술 상세

### 파일 업로드 처리
```javascript
// FileReader API 사용
const reader = new FileReader();
reader.onload = (event) => {
  const fileData = {
    fileName: file.name,
    fileUrl: event.target.result, // Base64
    fileSize: file.size,
    fileType: file.type
  };
  // localStorage에 저장
};
reader.readAsDataURL(file);
```

### 파일 다운로드 처리
```javascript
// Blob URL 생성 및 다운로드
const link = document.createElement('a');
link.href = material.fileUrl; // Base64 URL
link.download = material.fileName;
link.click();
```

### 용량 최적화 팁
1. **이미지 압축**: 업로드 전 이미지 크기 줄이기
2. **PDF 최적화**: PDF 파일 크기 압축
3. **비디오 링크**: 대용량 비디오는 YouTube 링크 사용 권장
4. **정기 정리**: 오래된 자료 삭제

---

## 🚨 FAQ

### Q1: 파일 크기 제한은?
**A**: 최대 10MB입니다. 더 큰 파일은 다음 방법을 사용하세요:
- 파일 압축
- 외부 링크 사용 (Google Drive, YouTube 등)
- 여러 파일로 분할

### Q2: 지원하지 않는 파일 형식은?
**A**: 다음 형식은 지원하지 않습니다:
- 실행 파일 (.exe, .bat)
- 압축 파일 (.zip, .rar)
- 오피스 매크로 파일 (.xlsm)

### Q3: 업로드한 파일이 안 보여요
**A**: 다음을 확인하세요:
1. 새로고침 버튼 클릭
2. 브라우저 캐시 삭제
3. localStorage 확인 (F12 → Application → Local Storage)

### Q4: 다른 브라우저에서도 보이나요?
**A**: 아니요. localStorage는 브라우저별로 독립적입니다.
- 해결책: "내보내기"로 백업 → 다른 브라우저에서 "가져오기"

### Q5: 파일 다운로드가 안 돼요
**A**: 
1. 팝업 차단 확인
2. 파일 URL이 있는지 확인
3. 브라우저 다운로드 설정 확인

### Q6: 데이터가 사라졌어요
**A**: localStorage 데이터 손실 원인:
- 브라우저 캐시 삭제
- 시크릿 모드 사용
- 브라우저 업데이트

**예방책**: 정기적으로 "내보내기"로 백업!

### Q7: 용량 부족 에러
**A**: 
```
1. 오래된 자료 삭제
2. 큰 파일 외부 링크로 교체
3. 이미지/PDF 압축
4. 백업 후 데이터 초기화
```

### Q8: 조회수/다운로드 수가 안 올라가요
**A**: 
- 기본 자료(ID 1-10)는 통계가 고정됨
- 사용자가 추가한 자료만 통계 증가
- localStorage에 저장된 자료만 추적 가능

---

## 🔄 데이터 마이그레이션

### 개발 → 프로덕션 이동
```
1. 개발 환경에서 "내보내기"
2. JSON 파일 저장
3. 프로덕션 환경에서 "가져오기"
4. "교체" 옵션 선택
```

### 여러 관리자 간 동기화
```
1. 관리자A: "내보내기"
2. JSON 파일을 이메일/클라우드로 공유
3. 관리자B: "가져오기"
4. "병합" 옵션으로 통합
```

---

## 🎯 베스트 프랙티스

### 파일 명명 규칙
```
✅ 좋은 예:
- "수중하키_공식규칙_2024.pdf"
- "골키퍼_훈련가이드_v2.pdf"
- "팀전술_공격패턴_20241107.ppt"

❌ 나쁜 예:
- "규칙.pdf" (너무 일반적)
- "ㄱㄱㄱ.doc" (의미 불명)
- "final_final_최종.pdf" (불명확)
```

### 카테고리 분류 가이드
- **규칙**: 공식 규칙서, 심판 매뉴얼, 파울 판정 기준
- **전략**: 팀 전술, 포지셔닝, 공격/수비 패턴
- **연습방법**: 훈련 프로그램, 드릴, 체력 훈련
- **기타**: 장비 가이드, 대회 정보, 팀 소식

### 백업 전략
```
일일: 중요 변경 시
주간: 매주 월요일
월간: 매월 1일
연간: 시즌 종료 시
```

---

## 📞 기술 지원

### 문제 발생 시
1. 브라우저 콘솔 확인 (F12)
2. localStorage 데이터 확인
3. 백업 파일 확인
4. 기술 지원팀 연락

### 연락처
- 📧 이메일: support@uwh-korea.com
- 💬 카카오톡: @uwh-support
- 📱 전화: 02-1234-5678

---

## 🔮 향후 개선 계획

### 단기 (1-2개월)
- [ ] 파일 미리보기 기능
- [ ] 자료 태그 시스템
- [ ] 즐겨찾기 기능
- [ ] 댓글/평점 시스템

### 중기 (3-6개월)
- [ ] Firebase 연동 (클라우드 저장)
- [ ] 자료 버전 관리
- [ ] 협업 편집 기능
- [ ] 모바일 앱

### 장기 (6-12개월)
- [ ] AI 기반 자료 추천
- [ ] 자동 번역 기능
- [ ] 비디오 스트리밍
- [ ] 학습 진도 추적

---

**마지막 업데이트**: 2025-11-07  
**버전**: 1.0.0  
**작성자**: UWH Korea Dev Team
